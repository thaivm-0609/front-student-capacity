
<div class="container py-4">
  <div class="">
    <div class="">
      <img
        class="banner"
        src="https://images.unsplash.com/photo-1649859398731-d3c4ebca53fc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
        alt=""
      />
    </div>
  </div>
    <form [formGroup]="formFilter"  class="rankingCapacity-filter-box py-4 rounded row">
      <div class="col-3 rank_title" >Xếp Hạng</div>
      <div class="col-6"></div>
      <div class="col-3">
        <div ngbDropdown class="d-inline-block w-100">
          <input
            type="text"
            (keyup)="
              filterSelect(majors, $any($event.target).value, 'major')
            "
            formControlName="filterMajor"
            class="form-control w-100"
            placeholder="Chuyên ngành"
            id="dropdownBasic1"
            ngbDropdownToggle
          />
          <div
            ngbDropdownMenu
            class="w-100"
            aria-labelledby="dropdownBasic1"
          >
            <div *ngIf="!majors" class="d-flex justify-content-center">
              <app-loading-item class="py-2"></app-loading-item>
            </div>
            <a
              *ngFor="let item of majors"
              (click)="setValueFilterMajor(item)"
              class="text-collapse"
              ngbDropdownItem
              >{{ item.name }}</a
            >
          </div>
        </div>
      </div>
  </form>
  <div class="no-results" *ngIf="statusNotResultReturn " >
    Không tìm thấy kết quả nào
  </div>
 
  <div class="" *ngIf="!statusNotResultReturn ">
    <table class="rank-table" >
      <thead class=rank-thead-table>
        <tr class="rank_head-table">
          <th class="rank_title-table" scope="col">#</th>
          <th class="rank_title-table" scope="col">Tên người dùng</th>
          <th class="rank_title-table" scope="col">Email</th>
          <th class="rank_title-table" scope="col">Chuyên ngành</th>
          <th class="rank-table-none"></th>
          <th class="rank_title-table-score" scope="col"><span class="score">Tổng kết</span></th>
        </tr>
      </thead>
      <tbody class="tbody" >
        <!-- Skeleton-Loadingg -->
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <tr  class="rank_item-list loading" *ngIf="!statusRanking" >
          <td class="rank_item" scope="row"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '50px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item-name">
            <div class="row">
                <ngx-skeleton-loader  class="col-3"
                [theme]="{ margin: '2px 0px 0px 0px' ,width: '70px', display: 'inline-block', height: '70px', 'border-radius': '100px' }"
              ></ngx-skeleton-loader>
                <ngx-skeleton-loader  class="col-9"
                [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
              ></ngx-skeleton-loader>
            </div>
          </td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank_item"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores"><ngx-skeleton-loader 
            [theme]="{  width: '100%', display: 'inline-block', height: '75px' }"
          ></ngx-skeleton-loader></td>
        </tr>
        <!-- End Skeleton-Loadingg -->
        <tr *ngFor="let rank of listRanking, ,let i = index" class="rank_item-list" >
          <th class="rank_item" scope="row">{{i+1}}</th>
          <td class="rank_item-name"><img class="rank_image" src={{rank.user.avatar}} alt="" width="70"><span class="rank_name">{{rank.user.name}}</span></td>
          <td class="rank_item">{{rank.user.email}}</td>
          <td class="rank_item">{{majorsDataTable}}</td>
          <td class="rank-table-none"></td>
          <td class="rank_item_scores">{{rank.scores}}</td>
        </tr>
      </tbody>
    </table>
    <div class="pagination" *ngIf="statusRanking">
      <div class="pagination-list">
        <a class="pagination-list_box pagination-list_first" (click)="paginationPages(first_page_url, false, '1', $event)"><i class="fa-solid fa-arrow-left"></i></a>
        <a class="pagination-list_box pagination-item" *ngFor="let page of links" (click)="paginationPages(page.url, page.active, page.label ,$event)">{{page.label}}</a>
        <a class="pagination-list_box pagination-list_last" (click)="paginationPages(last_page_url, false,last_page, $event)"><i class="fa-solid fa-arrow-right"></i></a>
      </div>
    </div>
  </div>
</div>
